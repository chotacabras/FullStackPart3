{"version":3,"sources":["components/Form.js","components/SearchFilter.js","components/Person.js","services/persons.js","components/Button.js","components/ShowAll.js","components/Notification.js","App.js","index.js"],"names":["Form","_ref","addPerson","newName","handleNameChange","newNumber","handleNumberChange","react_default","a","createElement","onSubmit","value","onChange","type","SearchFilter","newFilter","setNewFilter","showAll","setShowAll","event","target","Person","person","Fragment","name","number","baseUrl","exportedObject","getAll","axios","get","then","response","data","create","newObject","post","deletePerson","delete","concat","id","replaceNumber","oldObject","put","Button","setPersons","persons","setBadMessage","onClick","window","confirm","personService","catch","error","setTimeout","filter","p","ShowAll","personsToShow","toLowerCase","includes","map","key","components_Person","components_Button","Notification","goodMessage","badMessage","className","App","_useState","useState","_useState2","Object","slicedToArray","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","_useState9","_useState10","_useState11","_useState12","setGoodMessage","_useState13","_useState14","useEffect","personsReceived","areTheseObjectsEqual","first","second","components_Notification","components_SearchFilter","components_Form","preventDefault","wasItEqual","personObject","i","length","personChanged","personCreated","components_ShowAll","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.67ed144c.chunk.js","sourcesContent":["import React from \"react\"\r\n\r\nconst Form = ({ addPerson, newName, handleNameChange, newNumber, handleNumberChange }) => {\r\n\r\n    return (\r\n        <form onSubmit={addPerson}>\r\n            <div>\r\n                name: <input value={newName} onChange={handleNameChange} />\r\n            </div>\r\n            <div>\r\n                number: <input value={newNumber} onChange={handleNumberChange} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\"> add </button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Form","import React from 'react'\r\n\r\nconst SearchFilter = ({ newFilter, showAll, setNewFilter, setShowAll }) => {\r\n\r\n    const handleFilterChange = (event) => {\r\n        setNewFilter(event.target.value)\r\n        if (newFilter !== null) {\r\n            setShowAll(false)\r\n        }\r\n    }\r\n    return (\r\n        <div>\r\n            filter shown with <input value={newFilter} onChange={handleFilterChange} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SearchFilter","import React from \"react\"\r\n\r\nconst Person = ({ person }) => {\r\n\r\n    return (\r\n        <>\r\n            {person.name} - {person.number}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Person","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n    .then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject)\r\n    .then(response => response.data)\r\n}\r\nconst deletePerson = newObject => {\r\n  return axios.delete(`${baseUrl}/${newObject.id}`)\r\n    .then(response => response.data)\r\n}\r\n\r\nconst replaceNumber = (oldObject, newObject) => {\r\n  return axios.put(`${baseUrl}/${oldObject.id}`, newObject)\r\n    .then(response => response.data)\r\n}\r\n\r\nconst exportedObject = {\r\n  getAll,\r\n  create,\r\n  deletePerson,\r\n  replaceNumber\r\n}\r\nexport default exportedObject","import React from \"react\"\r\nimport personService from '../services/persons'\r\n\r\nconst Button = ({ person, setPersons, persons, setBadMessage }) => {\r\n\r\n  const deleteEventHandler = () => {\r\n    if (window.confirm(`Are you sure you want to delete ${person.name} from your phonebook?`)) {\r\n      personService.deletePerson(person)\r\n      .catch(error => {\r\n        setBadMessage(`Information from ${person.name} was already deleted from the server`)\r\n        setTimeout(() => {\r\n          setBadMessage(null)\r\n        }, 3000)\r\n      })\r\n      setPersons(persons.filter(p => person.id !== p.id))\r\n      \r\n    }\r\n  }\r\n\r\n  return (\r\n    <button onClick={deleteEventHandler}>\r\n      delete\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default Button","import React from \"react\"\r\nimport Person from './Person'\r\nimport Button from './Button'\r\n\r\nconst ShowAll = ({ showAll, persons, newFilter, setPersons, setBadMessage }) => {\r\n\r\n    const personsToShow = showAll\r\n        ? persons\r\n        : persons.filter(p => (p.name.toLowerCase()).includes(newFilter.toLowerCase()))\r\n\r\n    if (!persons) return null\r\n    else return personsToShow.map(p => <div key={p.id}>\r\n        <Person person={p} /> <Button person={p} setPersons={setPersons} persons={persons} setBadMessage={setBadMessage} />\r\n    </div>)\r\n}\r\n\r\nexport default ShowAll","import React from \"react\"\r\n\r\nconst Notification = ({ goodMessage, badMessage }) => {\r\n\r\n  if (!badMessage && goodMessage)\r\n  return (\r\n    <div className=\"success\">\r\n      {goodMessage}\r\n    </div>\r\n  )\r\n  else if (!goodMessage && badMessage)\r\n  return (\r\n    <div className=\"error\">\r\n      {badMessage}\r\n    </div>\r\n  )\r\n  else return null\r\n}\r\n\r\nexport default Notification","import React, { useEffect, useState } from 'react'\r\nimport Form from './components/Form'\r\nimport SearchFilter from './components/SearchFilter'\r\nimport ShowAll from './components/ShowAll'\r\nimport personService from './services/persons'\r\nimport Notification from './components/Notification'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState(null)\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [newFilter, setNewFilter] = useState('')\r\n  const [showAll, setShowAll] = useState(true)\r\n  const [goodMessage, setGoodMessage] = useState(null)\r\n  const [badMessage, setBadMessage] = useState(null)\r\n\r\n  useEffect(() => {\r\n    personService.getAll()\r\n      .then(personsReceived => {\r\n        setPersons(personsReceived)\r\n      })\r\n  }, [])\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    let wasItEqual = 0\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n\r\n    for (let i = 0; i < persons.length; i++) {\r\n      if (areTheseObjectsEqual(personObject, persons[i])) {\r\n        wasItEqual = 1\r\n        if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\r\n          setGoodMessage(`Updated ${newName}`)\r\n          personService.replaceNumber(persons[i], personObject)\r\n            .then(personChanged => setPersons(persons.map(p => p.name !== personChanged.name ? p : personChanged)))\r\n            setTimeout(() => {\r\n              setGoodMessage(null)\r\n            }, 3000)\r\n            setNewName('')\r\n            setNewNumber('')\r\n        }\r\n      }\r\n    }\r\n\r\n    if (wasItEqual === 0) {\r\n      \r\n      personService.create(personObject)\r\n        .then(personCreated => {\r\n          setPersons(persons.concat(personCreated))\r\n          setGoodMessage(`Added ${newName}`)\r\n          setTimeout(() => {\r\n            setGoodMessage(null)\r\n          }, 3000)\r\n        })\r\n        .catch(error => {\r\n          setBadMessage(error.response.data.error)\r\n          setTimeout(() => {\r\n            setBadMessage(null)\r\n          }, 6000)\r\n        })\r\n        \r\n      setNewName('')\r\n      setNewNumber('')\r\n    }\r\n  }\r\n\r\n  const areTheseObjectsEqual = (first, second) => {\r\n    return (first.name === second.name)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification badMessage={badMessage} goodMessage={goodMessage}/>\r\n      <div>\r\n        <SearchFilter newFilter={newFilter} showAll={showAll} setNewFilter={setNewFilter} setShowAll={setShowAll} />\r\n      </div>\r\n      <h2>add a new person</h2>\r\n      <Form addPerson={addPerson} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\r\n      <h2>Numbers</h2>\r\n      <ShowAll showAll={showAll} persons={persons} newFilter={newFilter} setPersons={setPersons} setBadMessage={setBadMessage} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import ReactDOM from 'react-dom'\r\nimport React from 'react'\r\nimport App from './App'\r\nimport './index.css'\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}